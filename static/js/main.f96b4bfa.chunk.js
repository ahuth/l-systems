(this["webpackJsonpl-systems"]=this["webpackJsonpl-systems"]||[]).push([[0],{10:function(t,n,e){"use strict";e.r(n);var s=e(0),o=e(1),i=e.n(o),r=e(3),a=e.n(r);class c{constructor(t,n){this.x=void 0,this.y=void 0,this.x=t,this.y=n}add(t){return new c(this.x+t.x,this.y+t.y)}subtract(t){return new c(this.x-t.x,this.y-t.y)}}function h(t,n){t.forEach((t=>function(t,n){const e=u(t.from,n),s=u(t.to,n);n.lineWidth=1,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(s.x,s.y),n.stroke()}(t,n)))}function u(t,n){return new c(t.x+n.canvas.width/2,-t.y+n.canvas.height/2)}class l{static fromDegrees(t){return new l(t*Math.PI/180)}constructor(t){this.radians=void 0,this.radians=t}get degrees(){return 180*this.radians/Math.PI}subtract(t){return new l(this.radians-t.radians)}add(t){return new l(this.radians+t.radians)}}let g;!function(t){t[t.DrawLeaf=0]="DrawLeaf",t[t.DrawLine=1]="DrawLine",t[t.Noop=2]="Noop",t[t.PopAngle=3]="PopAngle",t[t.PopPosition=4]="PopPosition",t[t.PushAngle=5]="PushAngle",t[t.PushPosition=6]="PushPosition",t[t.TurnLeft=7]="TurnLeft",t[t.TurnRight=8]="TurnRight"}(g||(g={}));const d={1:"11",0:"1[0]0"};function p(t){switch(t){case"0":return[g.DrawLeaf];case"1":return[g.DrawLine];case"[":return[g.PushPosition,g.PushAngle,g.TurnLeft];case"]":return[g.PopPosition,g.PopAngle,g.TurnRight];default:return[g.Noop]}}class f{constructor(t,n){this.from=void 0,this.to=void 0,this.from=t,this.to=n}}class b{constructor(t,n){this.angle=void 0,this.position=void 0,this.angle=t,this.position=n}gotoAngle(t){return this.angle=t,this.position}gotoPosition(t){return this.position=t,t}turnRight(t){return this.angle=this.angle.subtract(t),this.position}turnLeft(t){return this.angle=this.angle.add(t),this.position}moveForward(t){const n=new c(Math.cos(this.angle.radians)*t,Math.sin(this.angle.radians)*t);return this.position=this.position.add(n),this.position}}function P(){const[t,n]=Object(o.useState)(45),[e,i]=Object(o.useState)(7),r=Object(o.useRef)(null);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("header",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"angle",children:"Angle"}),Object(s.jsx)("input",{id:"angle",type:"range",min:"10",max:"60",value:t,onChange:t=>n(Number(t.target.value))}),Object(s.jsx)("span",{children:t})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"iterations",children:"Iterations"}),Object(s.jsx)("input",{id:"iterations",type:"range",min:"1",max:"20",value:e,onChange:t=>i(Number(t.target.value))}),Object(s.jsx)("span",{children:e})]}),Object(s.jsx)("button",{onClick:function(){if(r.current){const n=function(t,n){const e=[],s=new b(n.startAngle,n.startPosition),o=[],i=[];let r=n.startPosition;for(let a of t)switch(a){case g.DrawLeaf:{const t=s.angle,o=n.segmentLength/2;s.turnLeft(n.turnAngle);const i=s.moveForward(o);e.push(new f(r,i)),s.gotoAngle(t),s.gotoPosition(r);const a=s.moveForward(o);e.push(new f(r,a)),s.gotoAngle(t),s.gotoPosition(r),s.turnRight(n.turnAngle);const c=s.moveForward(o);e.push(new f(r,c)),s.gotoAngle(t),s.gotoPosition(r);break}case g.DrawLine:{const t=s.moveForward(n.segmentLength),o=new f(r,t);e.push(o),r=t;break}case g.PopAngle:{const t=o.pop();t&&s.gotoAngle(t);break}case g.PopPosition:{const t=i.pop();t&&(r=t,s.gotoPosition(t));break}case g.PushAngle:o.push(s.angle);break;case g.PushPosition:i.push(s.position);break;case g.TurnLeft:s.turnLeft(n.turnAngle);break;case g.TurnRight:s.turnRight(n.turnAngle)}return e}(function(t){const n=function(t,n){let e=t.next().value;for(let s=1;s<=n;s++)e=t.next().value;return e}(function*(t,n){let e="0";for(;;){const t=e.split("").map((t=>n[t]||t)).join("");yield t,e=t}}(0,d),t);return console.log("fractal tree symbols:",n),n.split("").flatMap(p)}(e),{segmentLength:2,startAngle:l.fromDegrees(90),startPosition:new c(0,-300),turnAngle:l.fromDegrees(t)}),s=r.current.getContext("2d");!function(t){t.clearRect(0,0,t.canvas.width,t.canvas.height)}(s),h(n,s)}},children:"Draw"})]}),Object(s.jsx)("main",{children:Object(s.jsx)("canvas",{ref:r,height:"600",width:"600"})})]})}e(9);a.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(P,{})}),document.getElementById("root"))},9:function(t,n,e){}},[[10,1,2]]]);
//# sourceMappingURL=main.f96b4bfa.chunk.js.map